<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# identity

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/ports/outbound/identity"
```

## Index

- [type AuthorizationRequest](<#AuthorizationRequest>)
- [type AuthorizationResponse](<#AuthorizationResponse>)
- [type ExchangeRequest](<#ExchangeRequest>)
- [type Provider](<#Provider>)
- [type Repository](<#Repository>)
- [type TokenExchange](<#TokenExchange>)


<a name="AuthorizationRequest"></a>
## type [AuthorizationRequest](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/oauth.go#L11-L17>)

AuthorizationRequest carries options for initiating an OAuth flow

```go
type AuthorizationRequest struct {
    RedirectURI string
    Scopes      []string
    State       string
    UsePKCE     bool
    Prompt      string
}
```

<a name="AuthorizationResponse"></a>
## type [AuthorizationResponse](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/oauth.go#L20-L26>)

AuthorizationResponse returns the data required to redirect a user to an OAuth provider

```go
type AuthorizationResponse struct {
    AuthorizationURL    string
    State               string
    CodeVerifier        string
    CodeChallenge       string
    CodeChallengeMethod oauth2.CodeChallengeMethod
}
```

<a name="ExchangeRequest"></a>
## type [ExchangeRequest](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/oauth.go#L29-L32>)

ExchangeRequest holds contextual data to swap an authorization code for access tokens

```go
type ExchangeRequest struct {
    RedirectURI  string
    CodeVerifier string
}
```

<a name="Provider"></a>
## type [Provider](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/oauth.go#L44-L49>)

Provider exposes the operations required to integrate an OAuth2 identity provider Implementations must be safe for concurrent use They should generate cryptographic state and PKCE values when absent in the request

```go
type Provider interface {
    Name() string
    AuthorizationURL(ctx context.Context, req AuthorizationRequest) (AuthorizationResponse, error)
    Exchange(ctx context.Context, code string, req ExchangeRequest) (TokenExchange, error)
    Refresh(ctx context.Context, identity identitydomain.Identity) (TokenExchange, error)
}
```

<a name="Repository"></a>
## type [Repository](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/repository.go#L11-L19>)

Repository persists linked OAuth identities and their tokens

```go
type Repository interface {
    Create(ctx context.Context, identity identitydomain.Identity) (identitydomain.Identity, error)
    Update(ctx context.Context, identity identitydomain.Identity) error
    FindByID(ctx context.Context, id uuid.UUID) (identitydomain.Identity, error)
    FindByUserAndProvider(ctx context.Context, userID uuid.UUID, provider string) (identitydomain.Identity, error)
    FindByProviderSubject(ctx context.Context, provider string, subject string) (identitydomain.Identity, error)
    ListByUser(ctx context.Context, userID uuid.UUID) ([]identitydomain.Identity, error)
    Delete(ctx context.Context, id uuid.UUID) error
}
```

<a name="TokenExchange"></a>
## type [TokenExchange](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/identity/oauth.go#L35-L39>)

TokenExchange represents the result of exchanging or refreshing OAuth credentials

```go
type TokenExchange struct {
    Token   oauth2.Token
    Profile identitydomain.Profile
    Raw     map[string]any
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
