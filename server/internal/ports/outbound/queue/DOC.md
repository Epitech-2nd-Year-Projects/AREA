<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# queue

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/ports/outbound/queue"
```

## Index

- [Variables](<#variables>)
- [type JobConsumer](<#JobConsumer>)
- [type JobMessage](<#JobMessage>)
- [type JobProducer](<#JobProducer>)
- [type JobQueue](<#JobQueue>)
- [type Reservation](<#Reservation>)


## Variables

<a name="ErrEmpty"></a>ErrEmpty signals that no job was available before the timeout expired

```go
var ErrEmpty = errors.New("queue: empty")
```

<a name="JobConsumer"></a>
## type [JobConsumer](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/queue/queue.go#L33-L35>)

JobConsumer leases jobs for execution

```go
type JobConsumer interface {
    Reserve(ctx context.Context, timeout time.Duration) (Reservation, error)
}
```

<a name="JobMessage"></a>
## type [JobMessage](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/queue/queue.go#L12-L15>)

JobMessage represents a job scheduled for execution

```go
type JobMessage struct {
    JobID uuid.UUID
    RunAt time.Time
}
```

<a name="JobProducer"></a>
## type [JobProducer](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/queue/queue.go#L28-L30>)

JobProducer enqueues jobs for later processing

```go
type JobProducer interface {
    Enqueue(ctx context.Context, msg JobMessage) error
}
```

<a name="JobQueue"></a>
## type [JobQueue](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/queue/queue.go#L38-L41>)

JobQueue combines producer and consumer capabilities

```go
type JobQueue interface {
    JobProducer
    JobConsumer
}
```

<a name="Reservation"></a>
## type [Reservation](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/ports/outbound/queue/queue.go#L18-L25>)

Reservation represents a leased job fetched from the queue

```go
type Reservation interface {
    // Message returns the leased job payload
    Message() JobMessage
    // Ack marks the reservation as processed, removing it from the queue
    Ack(ctx context.Context) error
    // Requeue releases the reservation back to the queue after the given delay
    Requeue(ctx context.Context, delay time.Duration) error
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
