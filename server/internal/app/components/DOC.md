<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# components

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/app/components"
```

## Index

- [Variables](<#variables>)
- [func MapComponents\(items \[\]componentdomain.Component\) \[\]openapi.ComponentSummary](<#MapComponents>)
- [func ToSummary\(component \*componentdomain.Component, fallbackID uuid.UUID\) openapi.ComponentSummary](<#ToSummary>)
- [type CookieConfig](<#CookieConfig>)
- [type Handler](<#Handler>)
  - [func NewHandler\(service \*Service, sessions SessionResolver, cookies CookieConfig\) \*Handler](<#NewHandler>)
  - [func \(h \*Handler\) ListAvailableComponents\(c \*gin.Context, params openapi.ListAvailableComponentsParams\)](<#Handler.ListAvailableComponents>)
  - [func \(h \*Handler\) ListComponents\(c \*gin.Context, params openapi.ListComponentsParams\)](<#Handler.ListComponents>)
- [type ListOptions](<#ListOptions>)
- [type Service](<#Service>)
  - [func NewService\(repo outbound.ComponentRepository, subscriptions outbound.SubscriptionRepository\) \*Service](<#NewService>)
  - [func \(s \*Service\) List\(ctx context.Context, opts ListOptions\) \(\[\]componentdomain.Component, error\)](<#Service.List>)
  - [func \(s \*Service\) ListAvailable\(ctx context.Context, userID uuid.UUID, opts ListOptions\) \(\[\]componentdomain.Component, error\)](<#Service.ListAvailable>)
- [type SessionResolver](<#SessionResolver>)


## Variables

<a name="ErrInvalidKind"></a>ErrInvalidKind indicates the requested kind filter is unsupported

```go
var ErrInvalidKind = errors.New("components: invalid kind")
```

<a name="MapComponents"></a>
## func [MapComponents](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/mapper.go#L10>)

```go
func MapComponents(items []componentdomain.Component) []openapi.ComponentSummary
```

MapComponents converts domain components into OpenAPI summaries ready for transport

<a name="ToSummary"></a>
## func [ToSummary](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/mapper.go#L23>)

```go
func ToSummary(component *componentdomain.Component, fallbackID uuid.UUID) openapi.ComponentSummary
```

ToSummary converts a single component into an OpenAPI summary representation

<a name="CookieConfig"></a>
## type [CookieConfig](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L19-L26>)

CookieConfig mirrors the session cookie settings enforced by the authentication layer

```go
type CookieConfig struct {
    Name     string
    Domain   string
    Path     string
    Secure   bool
    HTTPOnly bool
    SameSite http.SameSite
}
```

<a name="Handler"></a>
## type [Handler](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L34-L38>)

Handler exposes component catalog endpoints generated from the OpenAPI contract

```go
type Handler struct {
    // contains filtered or unexported fields
}
```

<a name="NewHandler"></a>
### func [NewHandler](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L41>)

```go
func NewHandler(service *Service, sessions SessionResolver, cookies CookieConfig) *Handler
```

NewHandler constructs a component handler instance

<a name="Handler.ListAvailableComponents"></a>
### func \(\*Handler\) [ListAvailableComponents](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L88>)

```go
func (h *Handler) ListAvailableComponents(c *gin.Context, params openapi.ListAvailableComponentsParams)
```

ListAvailableComponents handles GET /v1/components/available

<a name="Handler.ListComponents"></a>
### func \(\*Handler\) [ListComponents](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L52>)

```go
func (h *Handler) ListComponents(c *gin.Context, params openapi.ListComponentsParams)
```

ListComponents handles GET /v1/components

<a name="ListOptions"></a>
## type [ListOptions](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/service.go#L27-L30>)

ListOptions define catalog filters supplied by clients

```go
type ListOptions struct {
    Kind     string
    Provider string
}
```

<a name="Service"></a>
## type [Service](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/service.go#L16-L19>)

Service exposes catalog listings filtered for client configuration

```go
type Service struct {
    // contains filtered or unexported fields
}
```

<a name="NewService"></a>
### func [NewService](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/service.go#L22>)

```go
func NewService(repo outbound.ComponentRepository, subscriptions outbound.SubscriptionRepository) *Service
```

NewService assembles a catalog service backed by component and subscription repositories

<a name="Service.List"></a>
### func \(\*Service\) [List](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/service.go#L36>)

```go
func (s *Service) List(ctx context.Context, opts ListOptions) ([]componentdomain.Component, error)
```

List retrieves enabled components honoring the provided filters

<a name="Service.ListAvailable"></a>
### func \(\*Service\) [ListAvailable](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/service.go#L54>)

```go
func (s *Service) ListAvailable(ctx context.Context, userID uuid.UUID, opts ListOptions) ([]componentdomain.Component, error)
```

ListAvailable fetches components whose providers are subscribed by the specified user

<a name="SessionResolver"></a>
## type [SessionResolver](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/app/components/handler.go#L29-L31>)

SessionResolver resolves a session identifier into the authenticated user

```go
type SessionResolver interface {
    ResolveSession(ctx context.Context, sessionID uuid.UUID) (userdomain.User, sessiondomain.Session, error)
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
