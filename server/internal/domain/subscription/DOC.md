<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# subscription

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/domain/subscription"
```

## Index

- [type Status](<#Status>)
- [type Subscription](<#Subscription>)
  - [func \(s Subscription\) WithIdentity\(identityID uuid.UUID\) Subscription](<#Subscription.WithIdentity>)
  - [func \(s Subscription\) WithScopes\(scopes \[\]string\) Subscription](<#Subscription.WithScopes>)


<a name="Status"></a>
## type [Status](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/domain/subscription/subscription.go#L10>)

Status captures the lifecycle state of a user service subscription.

```go
type Status string
```

<a name="StatusActive"></a>

```go
const (
    // StatusActive indicates the user has granted access to the service.
    StatusActive Status = "active"
    // StatusRevoked indicates access has been explicitly revoked by the user.
    StatusRevoked Status = "revoked"
    // StatusExpired indicates the authorisation expired and needs renewal.
    StatusExpired Status = "expired"
    // StatusNeedsConsent indicates the service requires additional user consent.
    StatusNeedsConsent Status = "needs_consent"
)
```

<a name="Subscription"></a>
## type [Subscription](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/domain/subscription/subscription.go#L24-L33>)

Subscription links an AREA user to a service provider authorisation.

```go
type Subscription struct {
    ID          uuid.UUID
    UserID      uuid.UUID
    ProviderID  uuid.UUID
    IdentityID  *uuid.UUID
    Status      Status
    ScopeGrants []string
    CreatedAt   time.Time
    UpdatedAt   time.Time
}
```

<a name="Subscription.WithIdentity"></a>
### func \(Subscription\) [WithIdentity](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/domain/subscription/subscription.go#L36>)

```go
func (s Subscription) WithIdentity(identityID uuid.UUID) Subscription
```

WithIdentity returns a shallow copy with the linked identity updated.

<a name="Subscription.WithScopes"></a>
### func \(Subscription\) [WithScopes](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/domain/subscription/subscription.go#L43>)

```go
func (s Subscription) WithScopes(scopes []string) Subscription
```

WithScopes returns a shallow copy with the granted scopes updated.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
