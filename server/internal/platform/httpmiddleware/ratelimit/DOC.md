<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# ratelimit

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/platform/httpmiddleware/ratelimit"
```

## Index

- [type Clock](<#Clock>)
- [type Config](<#Config>)
- [type Middleware](<#Middleware>)
  - [func New\(cfg Config, opts ...Option\) \(\*Middleware, error\)](<#New>)
  - [func \(m \*Middleware\) Handler\(\) gin.HandlerFunc](<#Middleware.Handler>)
- [type Option](<#Option>)
  - [func WithClock\(clock Clock\) Option](<#WithClock>)
  - [func WithLogger\(logger \*zap.Logger\) Option](<#WithLogger>)


<a name="Clock"></a>
## type [Clock](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L26-L28>)

Clock abstracts time retrieval for deterministic testing

```go
type Clock interface {
    Now() time.Time
}
```

<a name="Config"></a>
## type [Config](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L15-L23>)

Config defines rate limiting thresholds applied by the middleware

```go
type Config struct {
    Enabled                bool
    BaseRequestsPerMinute  int
    BurstRequestsPerMinute int
    BurstWindow            time.Duration
    SessionCookieName      string
    IdleTTL                time.Duration
    ApplyToAnonymous       bool
}
```

<a name="Middleware"></a>
## type [Middleware](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L52-L57>)

Middleware enforces per\-identifier rate limits with burst tolerance

```go
type Middleware struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L60>)

```go
func New(cfg Config, opts ...Option) (*Middleware, error)
```

New constructs a Middleware based on the provided configuration

<a name="Middleware.Handler"></a>
### func \(\*Middleware\) [Handler](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L116>)

```go
func (m *Middleware) Handler() gin.HandlerFunc
```

Handler returns the gin middleware enforcing the configured limits

<a name="Option"></a>
## type [Option](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L31>)

Option configures middleware construction

```go
type Option func(*Middleware)
```

<a name="WithClock"></a>
### func [WithClock](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L43>)

```go
func WithClock(clock Clock) Option
```

WithClock injects a custom clock implementation

<a name="WithLogger"></a>
### func [WithLogger](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/httpmiddleware/ratelimit/middleware.go#L34>)

```go
func WithLogger(logger *zap.Logger) Option
```

WithLogger overrides the zap logger used for diagnostics

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
