<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# redisqueue

```go
import "github.com/Epitech-2nd-Year-Projects/AREA/server/internal/platform/queue/redis"
```

## Index

- [type Config](<#Config>)
- [type Queue](<#Queue>)
  - [func New\(ctx context.Context, cfg Config, logger \*zap.Logger\) \(\*Queue, error\)](<#New>)
  - [func \(q \*Queue\) Enqueue\(ctx context.Context, msg queue.JobMessage\) error](<#Queue.Enqueue>)
  - [func \(q \*Queue\) Reserve\(ctx context.Context, timeout time.Duration\) \(queue.Reservation, error\)](<#Queue.Reserve>)


<a name="Config"></a>
## type [Config](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/queue/redis/queue.go#L16-L23>)

Config captures the Redis connection settings for the job queue

```go
type Config struct {
    Addr              string
    Password          string
    DB                int
    QueueKey          string
    ProcessingKey     string
    VisibilityTimeout time.Duration
}
```

<a name="Queue"></a>
## type [Queue](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/queue/redis/queue.go#L33-L39>)

Queue implements a Redis\-backed job queue with reliable reservations

```go
type Queue struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/queue/redis/queue.go#L42>)

```go
func New(ctx context.Context, cfg Config, logger *zap.Logger) (*Queue, error)
```

New constructs a Queue from the provided configuration

<a name="Queue.Enqueue"></a>
### func \(\*Queue\) [Enqueue](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/queue/redis/queue.go#L77>)

```go
func (q *Queue) Enqueue(ctx context.Context, msg queue.JobMessage) error
```

Enqueue appends a job to the pending list

<a name="Queue.Reserve"></a>
### func \(\*Queue\) [Reserve](<https://github.com/Epitech-2nd-Year-Projects/AREA/blob/main/server/internal/platform/queue/redis/queue.go#L99>)

```go
func (q *Queue) Reserve(ctx context.Context, timeout time.Duration) (queue.Reservation, error)
```

Reserve leases a job using BRPOPLPUSH to ensure reliability

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
